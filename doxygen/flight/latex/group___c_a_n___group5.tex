\hypertarget{group___c_a_n___group5}{\section{C\-A\-N Bus Error management functions}
\label{group___c_a_n___group5}\index{C\-A\-N Bus Error management functions@{C\-A\-N Bus Error management functions}}
}


C\-A\-N Bus Error management functions.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___c_a_n___group5_gaaee721a392b6b21bfd15dc160aeb6924}{C\-A\-N\-\_\-\-Get\-Last\-Error\-Code} (\hyperlink{struct_c_a_n___type_def}{C\-A\-N\-\_\-\-Type\-Def} $\ast$C\-A\-Nx)
\begin{DoxyCompactList}\small\item\em Returns the C\-A\-Nx's last error code (L\-E\-C). \end{DoxyCompactList}\item 
\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___c_a_n___group5_ga6903eecbec40eb1361d915ddde9a3274}{C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter} (\hyperlink{struct_c_a_n___type_def}{C\-A\-N\-\_\-\-Type\-Def} $\ast$C\-A\-Nx)
\begin{DoxyCompactList}\small\item\em Returns the C\-A\-Nx Receive Error Counter (R\-E\-C). \end{DoxyCompactList}\item 
\hyperlink{stdint_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{group___c_a_n___group5_ga85ee0c35bf7ca15d4e4c862eef534843}{C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter} (\hyperlink{struct_c_a_n___type_def}{C\-A\-N\-\_\-\-Type\-Def} $\ast$C\-A\-Nx)
\begin{DoxyCompactList}\small\item\em Returns the L\-S\-B of the 9-\/bit C\-A\-Nx Transmit Error Counter(\-T\-E\-C). \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
C\-A\-N Bus Error management functions. \begin{DoxyVerb} ===============================================================================
                  ##### CAN Bus Error management functions #####
 ===============================================================================  
    [..] This section provides functions allowing to 
         (+) Return the CANx's last error code (LEC).
         (+) Return the CANx Receive Error Counter (REC).
         (+) Return the LSB of the 9-bit CANx Transmit Error Counter(TEC).
    [..]
         (@) If TEC is greater than 255, The CAN is in bus-off state.
         (@) If REC or TEC are greater than 96, an Error warning flag occurs.
         (@) If REC or TEC are greater than 127, an Error Passive Flag occurs.\end{DoxyVerb}


\begin{DoxyVerb} ===============================================================================
                      CAN Bus Error management functions
 ===============================================================================  
  This section provides functions allowing to 
   -  Return the CANx's last error code (LEC)
   -  Return the CANx Receive Error Counter (REC)
   -  Return the LSB of the 9-bit CANx Transmit Error Counter(TEC).
   
   @note If TEC is greater than 255, The CAN is in bus-off state.
   @note if REC or TEC are greater than 96, an Error warning flag occurs.
   @note if REC or TEC are greater than 127, an Error Passive Flag occurs.\end{DoxyVerb}
 

\subsection{Function Documentation}
\hypertarget{group___c_a_n___group5_gaaee721a392b6b21bfd15dc160aeb6924}{\index{C\-A\-N Bus Error management functions@{C\-A\-N Bus Error management functions}!C\-A\-N\-\_\-\-Get\-Last\-Error\-Code@{C\-A\-N\-\_\-\-Get\-Last\-Error\-Code}}
\index{C\-A\-N\-\_\-\-Get\-Last\-Error\-Code@{C\-A\-N\-\_\-\-Get\-Last\-Error\-Code}!CAN Bus Error management functions@{C\-A\-N Bus Error management functions}}
\subsubsection[{C\-A\-N\-\_\-\-Get\-Last\-Error\-Code}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} C\-A\-N\-\_\-\-Get\-Last\-Error\-Code (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-Type\-Def} $\ast$}]{C\-A\-Nx}
\end{DoxyParamCaption}
)}}\label{group___c_a_n___group5_gaaee721a392b6b21bfd15dc160aeb6924}


Returns the C\-A\-Nx's last error code (L\-E\-C). 


\begin{DoxyParams}{Parameters}
{\em C\-A\-Nx,\-:} & where x can be 1 to select the C\-A\-N1 peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Error} & code\-:
\begin{DoxyItemize}
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-No\-Err\-: No Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Stuff\-Err\-: Stuff Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Form\-Err\-: Form Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-A\-C\-K\-Err \-: Acknowledgment Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Bit\-Recessive\-Err\-: Bit Recessive Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Bit\-Dominant\-Err\-: Bit Dominant Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-C\-R\-C\-Err\-: C\-R\-C Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Software\-Set\-Err\-: Software Set Error
\end{DoxyItemize}\\
\hline
\end{DoxyRetVals}

\begin{DoxyParams}{Parameters}
{\em C\-A\-Nx,\-:} & where x can be 1 or 2 to select the C\-A\-N peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Error} & code\-:
\begin{DoxyItemize}
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-No\-Err\-: No Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Stuff\-Err\-: Stuff Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Form\-Err\-: Form Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-A\-C\-K\-Err \-: Acknowledgment Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Bit\-Recessive\-Err\-: Bit Recessive Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Bit\-Dominant\-Err\-: Bit Dominant Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-C\-R\-C\-Err\-: C\-R\-C Error
\item C\-A\-N\-\_\-\-E\-R\-R\-O\-R\-C\-O\-D\-E\-\_\-\-Software\-Set\-Err\-: Software Set Error 
\end{DoxyItemize}\\
\hline
\end{DoxyRetVals}


Definition at line 1014 of file stm32f30x\-\_\-can.\-c.

\hypertarget{group___c_a_n___group5_ga85ee0c35bf7ca15d4e4c862eef534843}{\index{C\-A\-N Bus Error management functions@{C\-A\-N Bus Error management functions}!C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter@{C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter}}
\index{C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter@{C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter}!CAN Bus Error management functions@{C\-A\-N Bus Error management functions}}
\subsubsection[{C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} C\-A\-N\-\_\-\-Get\-L\-S\-B\-Transmit\-Error\-Counter (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-Type\-Def} $\ast$}]{C\-A\-Nx}
\end{DoxyParamCaption}
)}}\label{group___c_a_n___group5_ga85ee0c35bf7ca15d4e4c862eef534843}


Returns the L\-S\-B of the 9-\/bit C\-A\-Nx Transmit Error Counter(\-T\-E\-C). 


\begin{DoxyParams}{Parameters}
{\em C\-A\-Nx,\-:} & where x can be 1 or 2 to to select the C\-A\-N peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em L\-S\-B} & of the 9-\/bit C\-A\-N Transmit Error Counter. \\
\hline
\end{DoxyRetVals}


Definition at line 1059 of file stm32f30x\-\_\-can.\-c.

\hypertarget{group___c_a_n___group5_ga6903eecbec40eb1361d915ddde9a3274}{\index{C\-A\-N Bus Error management functions@{C\-A\-N Bus Error management functions}!C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter@{C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter}}
\index{C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter@{C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter}!CAN Bus Error management functions@{C\-A\-N Bus Error management functions}}
\subsubsection[{C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} C\-A\-N\-\_\-\-Get\-Receive\-Error\-Counter (
\begin{DoxyParamCaption}
\item[{{\bf C\-A\-N\-\_\-\-Type\-Def} $\ast$}]{C\-A\-Nx}
\end{DoxyParamCaption}
)}}\label{group___c_a_n___group5_ga6903eecbec40eb1361d915ddde9a3274}


Returns the C\-A\-Nx Receive Error Counter (R\-E\-C). 

\begin{DoxyNote}{Note}
In case of an error during reception, this counter is incremented by 1 or by 8 depending on the error condition as defined by the C\-A\-N standard. After every successful reception, the counter is decremented by 1 or reset to 120 if its value was higher than 128. When the counter value exceeds 127, the C\-A\-N controller enters the error passive state. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em C\-A\-Nx,\-:} & where x can be 1 or 2 to to select the C\-A\-N peripheral. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em C\-A\-N} & Receive Error Counter. \\
\hline
\end{DoxyRetVals}


Definition at line 1039 of file stm32f30x\-\_\-can.\-c.

